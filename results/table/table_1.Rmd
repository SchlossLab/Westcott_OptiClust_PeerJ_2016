---
output:
  pdf_document:
    keep_tex: true
    includes:
      in_header: table_header.tex
tables: true
geometry: margin=0.75in
---

**Table 1. Description of datasets used to evaluate the OptiClust algorithm and compare its performance to other algorithms.** Each dataset contains sequences from the V4 region of the 16S rRNA gene. The even and staggered datasets were generated by extracting the V4 region from full length reference sequences and the datasets from the natural communities were generated by sequencing the V4 region using a Illumina MiSeq with either paired 150 or 250 nt reads.

```{r results='asis', echo=FALSE, warning=FALSE, eval=TRUE}
library('xtable')

options(xtable.sanitize.text.function=identity)


dataset <- c(
							soil = "Soil",
							marine = "Marine",
							mice = "Mice",
							human = "Human",
							even = "Even",
							staggered = "Staggered"
						)

sequencing <- c(
							soil = "150",
							marine = "250",
							mice = "250",
							human = "250",
							even = "NA",
							staggered = "NA"
						)

reference <-  c(
							soil = "XX",
							marine = "XX",
							mice = "XX",
							human = "XX",
							even = "XX,YY",
							staggered = "XX,YY"
						)

data_summary <- read.table(file="data/processed/datasets.summary", header=T, na.string="", stringsAsFactors=F)
data_summary <- data_summary[names(reference),]

stopifnot(names(dataset) == rownames(data_summary))
stopifnot(names(sequencing) == rownames(data_summary))
stopifnot(names(reference) == rownames(data_summary))

dataset_ref <- paste0(dataset, ' (', reference, ')')

data_table <- cbind(dataset_ref, sequencing, data_summary$n_samples,
 										format(data_summary$n_total_seqs, big.mark=','),
 										format(data_summary$n_unique_seqs, big.mark=','))

colnames(data_table) <- c("Dataset (Ref.)",
													"\\bigcell{c}{Read \\\\ Length }",
													"\\bigcell{c}{Samples \\\\ (N) }",
													"\\bigcell{c}{Total \\\\ Seqs. (N)}",
													"\\bigcell{c}{Unique \\\\ Seqs. (N) }")

colnames(data_table) <- paste0("\\textbf{", colnames(data_table), "}")

composite <- xtable(data_table, label="")

align(composite) <- "llcccc"

print(composite,
		include.rownames=FALSE,
		include.colnames=TRUE,
		hline.after = c(-1,0, nrow(composite)),
		comment=FALSE,
		table.placement="!ht"
		)
```
